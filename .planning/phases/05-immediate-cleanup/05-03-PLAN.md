---
phase: 05-immediate-cleanup
plan: 03
type: execute
---

<objective>
Archive dormant projects (Ams.UI.Avalonia and InspectDocX) to preserve code while removing from active development.

Purpose: Clean up solution by moving dormant projects to archive folder, reducing confusion about what's active.
Output: archive/ directory with preserved projects, solution file updated, clean build.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-immediate-cleanup/05-01-SUMMARY.md
@.planning/phases/05-immediate-cleanup/05-02-SUMMARY.md

**Prior decisions affecting this phase:**
- AUD-019: Ams.UI.Avalonia is dormant (future value, not currently blocking)
- AUD-023, AUD-024: InspectDocX standalone analysis tool, not part of main pipeline
- AUD-027: Both projects should be archived, not deleted

**From STATE.md decisions:**
- Keep UI.Avalonia dormant (has future value)
- Archive rather than delete to preserve potential reuse

**Issue IDs addressed:** AUD-019, AUD-023, AUD-024, AUD-027
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create archive directory and move projects</name>
  <files>
    archive/ (new directory)
    host/Ams.UI.Avalonia/ (move to archive/)
    out/InspectDocX/ (move to archive/)
  </files>
  <action>
    1. Create archive directory at repository root:
       - `New-Item -ItemType Directory -Path archive -Force`
    2. Move Ams.UI.Avalonia using git mv (preserves history):
       - `git mv host/Ams.UI.Avalonia archive/Ams.UI.Avalonia`
    3. Move InspectDocX using git mv:
       - `git mv out/InspectDocX archive/InspectDocX`
    4. Verify moves completed:
       - `Test-Path archive/Ams.UI.Avalonia`
       - `Test-Path archive/InspectDocX`

    WHY: Using git mv preserves history and makes the move atomic.
    Archive folder clearly indicates these are preserved but not active.
  </action>
  <verify>
    - Archive directory exists with both projects
    - Original locations are empty/deleted
    - `git status` shows rename operations (not delete+add)
  </verify>
  <done>Both projects moved to archive/ with history preserved</done>
</task>

<task type="auto">
  <name>Task 2: Update solution file</name>
  <files>Ams.sln</files>
  <action>
    1. Read Ams.sln to find project references
    2. Locate Ams.UI.Avalonia project entry:
       - Search for "Ams.UI.Avalonia" in solution file
       - Note the project GUID
    3. Locate InspectDocX project entry:
       - Search for "InspectDocX" in solution file
       - Note the project GUID
    4. Remove both project entries from solution:
       - Remove the Project("...") ... EndProject blocks
       - Remove any GlobalSection entries referencing these GUIDs
    5. Save the updated solution file

    NOTE: Do NOT remove other projects. Only remove Ams.UI.Avalonia and InspectDocX.
    Verify the solution still loads after editing.

    WHY: Archived projects should not appear in solution to avoid confusion.
    They can be re-added later if needed.
  </action>
  <verify>
    - Solution loads: `dotnet sln list` completes without errors
    - Projects not listed: Neither Avalonia nor InspectDocX appear in `dotnet sln list`
    - Solution builds: `dotnet build Ams.sln --no-restore`
  </verify>
  <done>Solution file updated, archived projects removed, solution builds</done>
</task>

<task type="auto">
  <name>Task 3: Final verification and cleanup</name>
  <files>None (verification only)</files>
  <action>
    1. Build entire solution: `dotnet build Ams.sln`
    2. Run all tests: `dotnet test tests/Ams.Tests`
    3. Verify archive contents are complete:
       - `Get-ChildItem archive/Ams.UI.Avalonia -Recurse | Measure-Object`
       - `Get-ChildItem archive/InspectDocX -Recurse | Measure-Object`
    4. Create README in archive folder explaining purpose:
       Create archive/README.md with:
       - Purpose of archive folder
       - List of archived projects
       - Date archived
       - How to restore if needed

    WHY: Final verification ensures no unexpected breakages.
    README provides context for future developers.
  </action>
  <verify>
    - Build succeeds with 0 errors
    - All tests pass
    - archive/README.md exists
  </verify>
  <done>Solution verified clean, archive documented</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `dotnet build Ams.sln` succeeds with 0 errors
- [ ] `dotnet test tests/Ams.Tests` passes all tests
- [ ] archive/ contains both Ams.UI.Avalonia and InspectDocX
- [ ] Solution file does not reference archived projects
- [ ] archive/README.md documents the archive
</verification>

<success_criteria>
- Both projects archived with git history preserved
- Solution file clean (no references to archived projects)
- Full solution builds and tests pass
- Archive documented with README
</success_criteria>

<output>
After completion, create `.planning/phases/05-immediate-cleanup/05-03-SUMMARY.md`:

# Phase 5 Plan 03: Archive Dormant Projects Summary

**[One-liner describing archival]**

## Accomplishments

- Created archive/ directory
- Moved Ams.UI.Avalonia to archive/ (with history)
- Moved InspectDocX to archive/ (with history)
- Updated solution file to remove archived projects
- Created archive/README.md

## Files Created

- `archive/` (directory)
- `archive/README.md`

## Files Moved

- `host/Ams.UI.Avalonia/` -> `archive/Ams.UI.Avalonia/`
- `out/InspectDocX/` -> `archive/InspectDocX/`

## Files Modified

- `Ams.sln` - Removed archived project references

## Issues Addressed

- AUD-019: UI.Avalonia dormant
- AUD-023: InspectDocX standalone
- AUD-024: UI.Avalonia skeleton
- AUD-027: InspectDocX archival

## Decisions Made

None - archival decision made in v1.0 audit.

## Issues Encountered

[Document any unexpected dependencies, or "None"]

## Next Step

Phase 5 complete. Ready for Phase 6 (Utility Extraction).
</output>
