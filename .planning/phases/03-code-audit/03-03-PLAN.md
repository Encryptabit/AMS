---
phase: 03-code-audit
plan: 03
type: execute
---

<objective>
Complete the code audit by verifying project status, consolidating all findings, and creating the Phase 3 synthesis document.

Purpose: Produce a comprehensive audit report that feeds directly into Phase 4 (Recommendations).
Output: AUDIT-SYNTHESIS.md with complete findings, prioritized issues, and Phase 4 readiness assessment.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Phase 1 artifacts:**
@.planning/phases/01-discovery/PROJECT-STATUS.md
@.planning/phases/01-discovery/DISCOVERY-SYNTHESIS.md

**Previous plans in this phase:**
@.planning/phases/03-code-audit/03-01-SUMMARY.md
@.planning/phases/03-code-audit/03-02-SUMMARY.md
@.planning/phases/03-code-audit/DEAD-CODE.md
@.planning/phases/03-code-audit/RESPONSIBILITY-MAP.md

**Prior decisions affecting this phase:**
- Projects classified in Phase 1: Active (4), Stale (1), Dormant (1), Nascent (4), Analysis (2)
- Test coverage ~6.5% (9 test files for 137 source files)
- Web stack and UI.Avalonia flagged as incomplete
</context>

<tasks>

<task type="auto">
  <name>Task 1: Dormant/Stale/Nascent project verification</name>
  <files>.planning/phases/03-code-audit/PROJECT-AUDIT.md</files>
  <action>
For each non-Active project, verify current status and determine future viability:

**Projects to audit:**

1. **Ams.Tests (Stale)**
   - Do tests still compile?
   - Do tests pass?
   - Are tests testing current code or obsolete code?
   - Verdict: Update, Archive, or Remove

2. **Ams.UI.Avalonia (Dormant)**
   - Does it build?
   - Is there any unique functionality?
   - Is there a future need for desktop UI?
   - Verdict: Keep dormant, Archive, or Remove

3. **Ams.Web.* (Nascent - 4 projects)**
   - Does the web stack build?
   - Is there functional UI?
   - What would it take to make it production-ready?
   - Verdict: Invest, Keep nascent, or Archive

4. **Analysis tools (OverlayTest, InspectDocX)**
   - Are these still useful?
   - Should they be moved/renamed?
   - Verdict: Keep, Move to tools/, or Remove

For each project:
- Run build check
- Assess code currency
- Evaluate future value
- Provide clear recommendation

Output format:
```markdown
# Project Audit Report

## Summary
| Project | Status | Builds? | Future Value | Recommendation |
|---------|--------|---------|--------------|----------------|

## Detailed Assessments

### Ams.Tests
**Current State:** [description]
**Build Status:** [pass/fail with details]
**Test Results:** [if applicable]
**Assessment:** [analysis]
**Recommendation:** [action]

### Ams.UI.Avalonia
...

### Ams.Web.* Stack
...

### Analysis Tools
...

## Recommendations Summary
- Projects to update: [list]
- Projects to archive: [list]
- Projects to remove: [list]
```
  </action>
  <verify>PROJECT-AUDIT.md exists; all 7 non-Active projects assessed with build status and recommendation</verify>
  <done>Every dormant/stale/nascent project audited with clear verdict and recommendation</done>
</task>

<task type="auto">
  <name>Task 2: Issues catalogue consolidation</name>
  <files>.planning/phases/03-code-audit/ISSUES-CATALOGUE.md</files>
  <action>
Consolidate all Phase 3 findings into a single issues catalogue:

**Sources to consolidate:**
1. DEAD-CODE.md - Dead code items
2. RESPONSIBILITY-MAP.md - Scattered logic and over-abstractions
3. PROJECT-AUDIT.md - Project status issues
4. Any issues deferred from Phase 1-2

**For each issue:**
- Assign unique ID (AUD-001, AUD-002, etc.)
- Categorize: Dead Code, Scattered Logic, Over-Abstraction, Project Status, Technical Debt
- Severity: Critical, High, Medium, Low
- Effort: Small (hours), Medium (days), Large (weeks)
- Dependencies: What must be done first

Output format:
```markdown
# AMS Code Audit Issues Catalogue

## Summary Statistics
| Category | Critical | High | Medium | Low | Total |
|----------|----------|------|--------|-----|-------|
| Dead Code | | | | | |
| Scattered Logic | | | | | |
| Over-Abstraction | | | | | |
| Project Status | | | | | |
| Technical Debt | | | | | |
| **Total** | | | | | |

## Issues by Priority

### Critical
| ID | Category | Description | Effort | Dependencies |
|----|----------|-------------|--------|--------------|

### High
...

### Medium
...

### Low
...

## Issue Details

### AUD-001: [Title]
**Category:** [type]
**Severity:** [level]
**Effort:** [estimate]
**Description:** [details]
**Impact:** [why it matters]
**Recommendation:** [action]
**Dependencies:** [what must be done first]

### AUD-002: [Title]
...
```
  </action>
  <verify>ISSUES-CATALOGUE.md exists; all issues from Phase 3 consolidated with IDs and severity ratings</verify>
  <done>Complete issues catalogue with prioritization, effort estimates, and dependencies mapped</done>
</task>

<task type="auto">
  <name>Task 3: Phase 3 synthesis</name>
  <files>.planning/phases/03-code-audit/AUDIT-SYNTHESIS.md</files>
  <action>
Create the comprehensive Phase 3 synthesis document:

**Sections to include:**

1. **Executive Summary**
   - Key metrics (issues found, severity distribution)
   - Top 3 findings
   - Overall codebase health assessment

2. **Dead Code Analysis Summary**
   - Total removable code (files, methods, lines)
   - Highest-impact removals
   - Risk assessment for removal

3. **Responsibility Analysis Summary**
   - Subsystem health
   - Key consolidation opportunities
   - Architecture health score

4. **Project Portfolio Summary**
   - Active projects health
   - Recommendations for dormant/nascent projects
   - Portfolio simplification opportunities

5. **Phase 4 Readiness**
   - Prerequisites met
   - Key questions for Recommendations phase
   - Suggested Phase 4 focus areas

6. **Metrics Dashboard**
   - Total files: 146
   - Dead code percentage
   - Over-abstraction count
   - Architecture health score
   - Test coverage (unchanged from Phase 1)

Output format:
```markdown
# Phase 3: Code Audit Synthesis

**Complete audit of AMS codebase: [X] issues identified, [Y] high-priority items, [Z] lines of removable code**

Generated: [date]

---

## Executive Summary

### Key Metrics
| Metric | Value | Assessment |
|--------|-------|------------|
| Total Issues | X | |
| Critical Issues | X | |
| Dead Code (files) | X | |
| Dead Code (methods) | X | |
| Over-abstractions | X | |
| Architecture Health | X/10 | |

### Top 3 Findings
1. [Most significant finding]
2. [Second most significant]
3. [Third most significant]

### Codebase Health Assessment
[Overall assessment paragraph]

---

## Dead Code Analysis
[Summary from DEAD-CODE.md]

## Responsibility Analysis
[Summary from RESPONSIBILITY-MAP.md]

## Project Portfolio
[Summary from PROJECT-AUDIT.md]

---

## Phase 4 Readiness Assessment

### Prerequisites Met
| Prerequisite | Status |
|--------------|--------|
| Dead code catalogued | ✓/✗ |
| Responsibilities mapped | ✓/✗ |
| Projects audited | ✓/✗ |
| Issues prioritized | ✓/✗ |

### Phase 4 Focus Areas
1. [Recommended focus area 1]
2. [Recommended focus area 2]
3. [Recommended focus area 3]

### Questions for Phase 4
- [Key question 1]
- [Key question 2]

---

## Appendix: Complete Deliverables

| Plan | Deliverables | Status |
|------|--------------|--------|
| 03-01 | ORPHANED-FILES.md, UNUSED-METHODS.md, DEAD-CODE.md | |
| 03-02 | CORE-SUBSYSTEMS.md, SCATTERED-LOGIC.md, RESPONSIBILITY-MAP.md | |
| 03-03 | PROJECT-AUDIT.md, ISSUES-CATALOGUE.md, AUDIT-SYNTHESIS.md | |

---

*Phase 3: Code Audit - COMPLETE*
*Date: [date]*
```
  </action>
  <verify>AUDIT-SYNTHESIS.md exists with executive summary, all sections populated, and Phase 4 readiness assessment</verify>
  <done>Comprehensive synthesis document created; Phase 3 complete; ready for Phase 4</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PROJECT-AUDIT.md exists with all 7 non-Active projects assessed
- [ ] ISSUES-CATALOGUE.md exists with consolidated, prioritized issues
- [ ] AUDIT-SYNTHESIS.md exists with executive summary and Phase 4 readiness
- [ ] All issues have IDs, severity, and effort estimates
- [ ] Phase 4 focus areas clearly identified
</verification>

<success_criteria>
- All dormant/stale/nascent projects have clear recommendations
- Issues catalogue is complete and prioritized
- Synthesis provides clear Phase 4 direction
- Codebase health score calculated
- Phase 3 deliverables checklist complete
</success_criteria>

<output>
After completion, create `.planning/phases/03-code-audit/03-03-SUMMARY.md`:

# Phase 3 Plan 3: Project Audit & Synthesis Summary

**[One-liner: e.g., "Audited 7 projects, catalogued X issues, codebase health score Y/10"]**

## Accomplishments
- [Key findings]

## Files Created
- `PROJECT-AUDIT.md` - Project status verification
- `ISSUES-CATALOGUE.md` - Consolidated issues catalogue
- `AUDIT-SYNTHESIS.md` - Phase 3 synthesis

## Key Findings
- [Most significant project audit findings]

## Phase 3 Complete
Phase 3 (Code Audit) is complete. Ready for Phase 4 (Recommendations).

## Next Step
`/gsd:plan-phase 4` to plan the Recommendations phase
</output>
