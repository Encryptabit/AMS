---
phase: 01-discovery
plan: 01
type: execute
---

<objective>
Create complete file inventory and project structure map for the AMS solution.

Purpose: Establish foundational understanding of what exists in the codebase before deeper analysis.
Output: File inventory document with purpose annotations for all 277 C# files, project status summary, folder hierarchy map.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

**Projects identified:**
- host/Ams.Cli (Active - CLI entry point)
- host/Ams.Core (Active - core library)
- host/Ams.Dsp.Native (Status TBD)
- host/Ams.Tests (Stale)
- host/Ams.UI.Avalonia (Dormant)
- host/Ams.Web/Ams.Web (Nascent)
- host/Ams.Web/Ams.Web.Client (Nascent)
- host/Ams.Web.Api (Nascent)
- host/Ams.Web.Shared (Nascent)
- analysis/OverlayTest (Analysis tool)
- out/InspectDocX (Analysis tool)

**Prior decisions:**
- Use D:/Notes call graphs as foundation
- Document FFmpeg code manually (separate plan)
- Keep UI.Avalonia dormant
</context>

<tasks>

<task type="auto">
  <name>Task 1: Enumerate all projects with status</name>
  <files>.planning/phases/01-discovery/PROJECT-STATUS.md</files>
  <action>
    For each of the 11 .csproj files:
    1. Read the .csproj to understand target framework, dependencies, and build config
    2. Count C# files in that project
    3. Identify entry points (Program.cs, Main, etc.)
    4. Assess status: Active (builds, used), Dormant (builds, unused), Stale (may not build), Nascent (incomplete)

    Create PROJECT-STATUS.md with:
    - Table: Project | Framework | File Count | Entry Point | Status | Notes
    - Brief description of each project's role
  </action>
  <verify>PROJECT-STATUS.md exists with all 11 projects documented</verify>
  <done>All projects catalogued with status, framework, file counts</done>
</task>

<task type="auto">
  <name>Task 2: Create file inventory with purpose annotations</name>
  <files>.planning/phases/01-discovery/FILE-INVENTORY.md</files>
  <action>
    For each project, enumerate all .cs files and create purpose annotations:

    1. Group files by project
    2. For each file, determine purpose from:
       - File name (e.g., *Command.cs = CLI command)
       - Namespace (indicates module)
       - Class name and contents (quick scan)
    3. Annotate with category: Command | Service | Model | Interface | Utility | Test | Config | Unknown

    Create FILE-INVENTORY.md with:
    - Section per project
    - Table: File | Category | Purpose (one-line description)
    - Summary counts at bottom

    Focus on breadth over depth - quick categorization, not deep analysis.
  </action>
  <verify>FILE-INVENTORY.md exists with all ~277 C# files listed</verify>
  <done>Every C# file has a one-line purpose annotation and category</done>
</task>

<task type="auto">
  <name>Task 3: Generate folder hierarchy documentation</name>
  <files>.planning/phases/01-discovery/FOLDER-STRUCTURE.md</files>
  <action>
    Create visual folder hierarchy showing:
    1. Top-level structure (host/, analysis/, out/, tools/, etc.)
    2. Per-project folder structure
    3. Notable patterns (Commands/, Services/, Models/, etc.)

    Use tree-style format:
    ```
    AMS/
    ├── host/
    │   ├── Ams.Cli/
    │   │   ├── Commands/
    │   │   └── Services/
    │   └── Ams.Core/
    │       └── ...
    ```

    Include brief annotations for each major folder's purpose.
  </action>
  <verify>FOLDER-STRUCTURE.md exists with complete hierarchy</verify>
  <done>Folder structure documented with annotations for all major directories</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] PROJECT-STATUS.md exists with 11 projects documented
- [ ] FILE-INVENTORY.md exists with ~277 files listed
- [ ] FOLDER-STRUCTURE.md exists with complete hierarchy
- [ ] All files have category and purpose annotations
- [ ] No placeholder content - all entries are real observations
</verification>

<success_criteria>

- All 3 tasks completed
- All verification checks pass
- Foundation established for call graph analysis (Plan 01-02)
- Author can quickly look up any file's purpose
</success_criteria>

<output>
After completion, create `.planning/phases/01-discovery/01-01-SUMMARY.md`:

# Phase 1 Plan 1: File Inventory & Project Structure Summary

**[Substantive one-liner about what was discovered]**

## Accomplishments

- [Key finding 1]
- [Key finding 2]
- [File count summaries]

## Files Created

- `.planning/phases/01-discovery/PROJECT-STATUS.md` - Project status table
- `.planning/phases/01-discovery/FILE-INVENTORY.md` - Complete file listing
- `.planning/phases/01-discovery/FOLDER-STRUCTURE.md` - Folder hierarchy

## Decisions Made

[Any categorization decisions or status assessments]

## Issues Encountered

[Problems found, or "None"]

## Next Step

Ready for 01-02-PLAN.md (Call Graph Analysis)
</output>
